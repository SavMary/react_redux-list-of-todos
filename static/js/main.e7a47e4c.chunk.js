(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c,r=n(11),a=n.n(r),s=n(4),o=n(17),u=(n(25),n(10)),i=n(6),l=n(16);!function(e){e.SET_TODOS="SET_TODOS",e.ADD_TODO="ADD_TODO",e.SET_USER="SET_USER"}(c||(c={}));var d,j={todos:[],user:null},b=Object(l.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.SET_TODOS:return Object(i.a)(Object(i.a)({},e),{},{todos:Object(u.a)(t.payload)});case c.ADD_TODO:return Object(i.a)(Object(i.a)({},e),{},{todos:[].concat(Object(u.a)(e.todos),[t.payload])});case c.SET_USER:return Object(i.a)(Object(i.a)({},e),{},{user:t.payload});default:return e}})),p=b,f=(n(26),n(0)),O=(n(27),function(e){return e.todos}),h=function(e){return e.user},x=function(e){return{type:"SET_TODOS",payload:e}},v=function(e){return{type:"SET_USER",payload:e}},m=n(1),_=function(){var e=Object(s.b)(),t=Object(s.c)(h);return t?Object(m.jsxs)("div",{className:"CurrentUser",children:[Object(m.jsx)("h2",{className:"CurrentUser__title",children:Object(m.jsx)("span",{children:"Selected user: ".concat(t.id)})}),Object(m.jsx)("h3",{className:"CurrentUser__name",children:t.name}),Object(m.jsx)("p",{className:"CurrentUser__email",children:t.email}),Object(m.jsx)("p",{className:"CurrentUser__phone",children:t.phone}),Object(m.jsx)("button",{type:"button",onClick:function(){return e(v(null))},className:"button",children:"Clear"})]}):Object(m.jsx)("p",{children:"No selected user"})},T=n(7),y=n(5),E=n(3),N=n.n(E),S=n(14),k=n.n(S),w="https://mate.academy/students-api",D=function(){var e=Object(T.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(T.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(T.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(w,"/todos/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(30);!function(e){e.All="all",e.Active="active",e.Completed="completed"}(d||(d={}));var L=function(){var e,t=Object(s.b)(),n=Object(f.useState)(""),c=Object(y.a)(n,2),r=c[0],a=c[1],o=Object(f.useState)("all"),i=Object(y.a)(o,2),l=i[0],j=i[1],b=Object(f.useState)([]),p=Object(y.a)(b,2),_=p[0],E=p[1],S=Object(s.c)(O),w=Object(s.c)(h),L=Object(s.c)((function(e){return e.todos.filter((function(e){return e.completed}))})),U=Object(s.c)((e=r,function(t){return t.todos.filter((function(t){return t.title.includes(e)}))}));Object(f.useEffect)((function(){var e=function(){var e=Object(T.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:n=e.sent,E(n),t(x(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var g=function(){var e=Object(T.a)(N.a.mark((function e(n){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(n);case 3:c=e.sent,t(v(c)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("user not found");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(T.a)(N.a.mark((function e(n){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(n);case 2:return e.next=4,D();case 4:c=e.sent,t(x(c));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(f.useEffect)((function(){E(Object(u.a)(S))}),[S]),Object(f.useEffect)((function(){E(U)}),[r]);return Object(f.useEffect)((function(){!function(){switch(l){case d.All:E(S);break;case d.Active:E(S.filter((function(e){return!e.completed})));break;case d.Completed:E(L)}}()}),[l]),Object(m.jsxs)("div",{className:"TodoList",children:[Object(m.jsx)("input",{type:"text",value:r,"data-cy":"filterByTitle",className:"input",onChange:function(e){var t=e.target.value;a(t)},placeholder:"Enter a todo"}),Object(m.jsx)("div",{className:"select",children:Object(m.jsx)("select",{value:l,onChange:function(e){return j(e.target.value)},children:["all","active","completed"].map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))})}),Object(m.jsx)("h2",{children:"Todos:"}),Object(m.jsx)("div",{className:"TodoList__list-container",children:Object(m.jsx)("ul",{className:"TodoList__list",children:_.map((function(e){return Object(m.jsxs)("li",{className:k()("TodoList__item",{"TodoList__item--checked":e.completed,"TodoList__item--unchecked":!e.completed}),children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"checkbox",checked:e.completed,readOnly:!0}),Object(m.jsx)("p",{children:e.title})]}),Object(m.jsxs)("div",{className:"TodoList__buttons",children:[Object(m.jsx)("button",{className:k()("TodoList__user-button button",{"TodoList__user-button--selected":e.userId===(null===w||void 0===w?void 0:w.id)}),type:"button",onClick:function(){g(e.userId)},children:"User #".concat(e.userId)}),Object(m.jsx)("button",{type:"button",className:"button",onClick:function(){return R(e.id)},children:"Delete"})]})]},e.id)}))})})]})},U=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{children:"Redux list of todos"}),Object(m.jsx)("div",{className:"App__sidebar",children:Object(m.jsx)(L,{})}),Object(m.jsx)("div",{className:"App__content",children:Object(m.jsx)("div",{className:"App__content-container",children:Object(m.jsx)(_,{})})})]})},g=function(){return Object(m.jsx)(s.a,{store:p,children:Object(m.jsx)(o.a,{children:Object(m.jsx)(U,{})})})};a.a.render(Object(m.jsx)(g,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.e7a47e4c.chunk.js.map